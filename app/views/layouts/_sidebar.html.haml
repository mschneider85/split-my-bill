%aside.main-sidebar
  / sidebar: style can be found in sidebar.less
  %section.sidebar{:style => "height: auto;"}
    / Sidebar user panel
    .user-panel
      .pull-left.image
        = image_tag current_user.avatar_url, class: 'img-circle'
      .pull-left.info
        %p= current_user.name
        %a{:href => "#"}
          = icon('circle', class: 'text-success')
          Online
    / search form
    %form.sidebar-form{:action => "#", :method => "get"}
      .input-group
        %input.form-control{:name => "q", :placeholder => "Search...", :type => "text"}
          %span.input-group-btn
            %button#search-btn.btn.btn-flat{:name => "search", :type => "submit"}
              %i.fa.fa-search
    / /.search form
    / sidebar menu: : style can be found in sidebar.less
    %ul.sidebar-menu
      %li.header MAIN NAVIGATION
      %li.treeview
        %a{:href => "#"}
          %i.fa.fa-dashboard
          %span Dashboard
          %i.fa.fa-angle-left.pull-right
        %ul.treeview-menu
          %li
            %a{:href => "#"}
              %i.fa.fa-circle-o
              Dashboard v1
          %li
            %a{:href => "#"}
              %i.fa.fa-circle-o
              Dashboard v2
      %li.treeview
        %a{:href => "#"}
          %i.fa.fa-files-o
          %span Layout Options
          %span.label.label-primary.pull-right 4
        %ul.treeview-menu
          %li
            %a{:href => "pages/layout/top-nav.html"}
              %i.fa.fa-circle-o
              Top Navigation
          %li
            %a{:href => "pages/layout/boxed.html"}
              %i.fa.fa-circle-o
              Boxed
          %li
            %a{:href => "pages/layout/fixed.html"}
              %i.fa.fa-circle-o
              Fixed
          %li
            %a{:href => "pages/layout/collapsed-sidebar.html"}
              %i.fa.fa-circle-o
              Collapsed Sidebar
      %li.treeview{ class: ('active' if controller_name == 'groups') }
        = link_to '#' do
          = icon('object-group')
          %span= Group.model_name.human(count: 2)
          %span.label.label-primary.pull-right= current_user.groups.count
        %ul.treeview-menu
          %li
            %form.sidebar-form{:action => "#", :method => "get"}
              .input-group
                %input.form-control{:name => "q", :placeholder => "Search...", :type => "text"}
                  %span.input-group-btn
                    %button#search-btn.btn.btn-flat{:name => "search", :type => "submit"}
                      %i.fa.fa-search
          - current_user.groups.order(updated_at: :desc).limit(5).each do |group|
            - if group.persisted?
              %li{ class: ('active' if controller_name == 'groups' && @group && @group.id == group.id) }
                = link_to edit_group_path(group) do
                  = icon('circle-o')
                  = group.name
          %li{ class: ('active' if controller_name == 'groups' && action_name == 'index') }
            = link_to groups_path do
              = icon('list')
              Alle Anzeigen
          %li{ class: ('active' if controller_name == 'groups' && ['new', 'create'].include?(action_name)) }
            = link_to new_group_path do
              = icon('plus')
              = t('helpers.submit.create', model: Group.model_name.human)
